<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>DKU Stats 101 - Spring 2024 - Course Introduction</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">DKU Stats 101 - Spring 2024</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link active" href="./index.html" rel="" target="" aria-current="page">
 <span class="menu-text">Course Introduction</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./schedulematerials.html" rel="" target="">
 <span class="menu-text">Schedule and Course Materials</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./homework.html" rel="" target="">
 <span class="menu-text">Homework</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./rmanual.html" rel="" target="">
 <span class="menu-text">R Help Manual</span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/andrewmacd/dkustats101spring2024" rel="" target=""><i class="bi bi-github" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools">
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#course-at-a-glance" id="toc-course-at-a-glance" class="nav-link active" data-scroll-target="#course-at-a-glance">Course at a glance</a></li>
  <li><a href="#course-description" id="toc-course-description" class="nav-link" data-scroll-target="#course-description">Course description</a></li>
  <li><a href="#course-objectives" id="toc-course-objectives" class="nav-link" data-scroll-target="#course-objectives">Course objectives</a></li>
  <li><a href="#course-structure" id="toc-course-structure" class="nav-link" data-scroll-target="#course-structure">Course structure</a></li>
  <li><a href="#how-to-prepare" id="toc-how-to-prepare" class="nav-link" data-scroll-target="#how-to-prepare">How to prepare</a></li>
  <li><a href="#required-texts" id="toc-required-texts" class="nav-link" data-scroll-target="#required-texts">Required texts</a></li>
  <li><a href="#course-policies" id="toc-course-policies" class="nav-link" data-scroll-target="#course-policies">Course policies</a>
  <ul class="collapse">
  <li><a href="#assessment" id="toc-assessment" class="nav-link" data-scroll-target="#assessment">Assessment</a></li>
  <li><a href="#lateness-policy" id="toc-lateness-policy" class="nav-link" data-scroll-target="#lateness-policy">Lateness policy</a></li>
  <li><a href="#attendance-policy" id="toc-attendance-policy" class="nav-link" data-scroll-target="#attendance-policy">Attendance Policy</a></li>
  <li><a href="#contact-policy" id="toc-contact-policy" class="nav-link" data-scroll-target="#contact-policy">Contact Policy</a></li>
  <li><a href="#academic-dishonesty-policy" id="toc-academic-dishonesty-policy" class="nav-link" data-scroll-target="#academic-dishonesty-policy">Academic Dishonesty Policy</a></li>
  <li><a href="#disabilities-policy" id="toc-disabilities-policy" class="nav-link" data-scroll-target="#disabilities-policy">Disabilities Policy</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Course Introduction</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<section id="course-at-a-glance" class="level1">
<h1>Course at a glance</h1>
<ul>
<li>Monday/Wednesday class at 12:00-2:30 pm in AB1079</li>
<li>Tuesday lab 6:00-7:15 pm in AB1079</li>
<li>Office hours -
<ul>
<li>Monday, Wednesday 2:45-4:00 pm in WDR 3114</li>
<li>Tuesday, Thursday 1:00 pm to 2:15 pm in WDR 3114</li>
</ul></li>
<li>Homeworks are all due on Sunday at 11:59 pm</li>
<li>All other announcements and information are posted on the class Teams site</li>
</ul>
</section>
<section id="course-description" class="level1">
<h1>Course description</h1>
<p>How can we use data to shed light on age-old and new human problems such as pollution, discrimination, and economic growth? How can we be “sure” that the evidence we have points us in the right direction? How meaningful are our findings? Do our results suggest the relationships we find between factors such smoking and cancer are meaningful or meaningless? How would we know? How should one properly display and explain your statistical results to these important issues?</p>
<p>This class introduces you to the tools and concepts that begin to tackle these questions. We will cover topics such as data summaries, sampling, data analysis, production of graphical displays, and regression techniques. The goal at the end of the course is that you will be able to conduct basic data manipulation, know how to properly summarize and display data, and make basic statistical inferences using real datasets.</p>
<p>The emphasis in the course will not be on learning mathematical formulas related to statistics but rather to develop an intuitive understanding of statistical inference and measures of uncertainty. For those interested in developing this intuitive understanding of statistics in a more rigorous way, you may also consider taking the following courses:</p>
<ul>
<li>Math 205: the mathematical foundations of statistics</li>
<li>Econ 203: advanced study of modern regression techniques</li>
<li>Social Sciences 350: advanced statistical techniques applied to real-world problems</li>
</ul>
<p>A third set of goals for the course is that you will also be able to read more fluently research literature that employs statistics. During this course I will reference, in class, a number of historically important academic articles and we will analyze the data from those articles. Doing so should help you understand how data is used (and misused) to construct social science arguments.</p>
</section>
<section id="course-objectives" class="level1">
<h1>Course objectives</h1>
<p>Upon completing the course, you will develop the following abilities:</p>
<ol type="1">
<li>Intuitively interpret statistics in course materials and in the larger world</li>
<li>Become a statistics results producer in addition to a statistics consumer</li>
<li>Assess when and how to use statistics to answer specific questions in the social sciences</li>
<li>Analyze how previously learned problems can be answered with statistical methods</li>
<li>Apply statistical methods to future social science coursework and capstone project</li>
<li>Judge how appropriately statistics are used in everyday life when reading the news, business reports, and other real-world applications</li>
</ol>
<p>In support of this you will be able to:</p>
<ul>
<li>Understand and interpret basic statistical properties of data (confidence intervals, t-tests, etc.)</li>
<li>Identify when various statistical tests are appropriate given a specific dataset</li>
<li>Formulate testable hypotheses in the data and learn how to execute those tests</li>
<li>Interpret statistical results to understand both significance of the results and their substantive impact</li>
<li>Illustrate statistical results with appropriate and clear graphical displays that provide meaning to the reader</li>
<li>Evaluate critically other, published, statistical work with the skills and techniques learned in class</li>
<li>Propose an independent research project that integrates statistical methods with their research interest for their capstone project</li>
</ul>
</section>
<section id="course-structure" class="level1">
<h1>Course structure</h1>
<p>Because of the pandemic situation this term, the course structure is going to be a little flexible - please bear with me as we make it through this term. All changes to the usual course schedule will be announced on Slack.</p>
<p><em>In general</em>, each week will proceed roughly as follows:</p>
<ul>
<li>Monday-Thursday: Read the textbook chapter, make progress on the lab(s) and homework</li>
<li><strong>Monday 2:45 pm-5:15 pm</strong>: Class session with a conceptual review of the chapter material</li>
<li><strong>Tuesday 8:10 pm-9:10 pm</strong>: Lab activities designed to help gain familiarity with the technical aspects of using R, RStudio and Quarto.</li>
<li><strong>Wednesday 2:45 pm-5:15 pm</strong>: Second weekly class session</li>
<li>Friday: Complete DataCamp lab(s) before <strong>midnight</strong></li>
<li>Sunday: Complete the homework that is due before <strong>midnight</strong> on Sunday</li>
</ul>
</section>
<section id="how-to-prepare" class="level1">
<h1>How to prepare</h1>
<p>We will be using three different online tools for this class, you will need to sign up for two of these tools. Our main class hub will be on Teams, where I will provide appropriate links for when you need to use the other tools.</p>
<ol type="1">
<li><a href="https://www.microsoft.com/en/microsoft-teams/download-app">Teams</a>: Teams works a bit like WeChat and a bit like Sakai and is perfect for collaboration. I encourage you to post often on Teams, including interesting statistical things you find in the world, questions about statistics you see in the news, and any other thoughts you have. Make sure to fill out your profile and upload a profile picture so we can keep track of who you are!</li>
<li><a href="https://www.datacamp.com/community/tutorials/installing-R-windows-mac-ubuntu">R and RStudio</a>: These software packages that implement the R statistical programming language are free and very popular tools for conducting statistical investigations, including all of the homeworks for this class.
<ul>
<li><a href="https://quarto.org/docs/computations/r.html">Quarto</a>: Quarto is a flexible document formatting standard that allows you to create nice looking documents that easily mix text and R code output (I made this website with Quarto - you can view the code <a href="https://github.com/andrewmacd/dkustats101spring2023">here</a>). All your homeworks, midterm, and final projects will be written inside of Quarto documents. Instructions on how to use the Quarto syntax will be provided with the first homework assignment.</li>
</ul></li>
<li><a href="https://www.datacamp.com/groups/shared_links/a40dc37b1900d6e180e78f1d74b27a320e0544f29a010932ff5034e06836eed0">DataCamp</a>: DataCamp has a lot of very useful tutorials that will help you learn how to code in R.</li>
</ol>
</section>
<section id="required-texts" class="level1">
<h1>Required texts</h1>
</section>
<section id="course-policies" class="level1">
<h1>Course policies</h1>
<p>I will detail the policy for this course below. Basically, try to learn stuff, don’t cheat, and be active in class and things should go just fine for you.</p>
<section id="assessment" class="level2">
<h2 class="anchored" data-anchor-id="assessment">Assessment</h2>
<ul>
<li><p>Pre-class warmup quiz <strong>10%</strong>: Before each class session there will be a series of short online questions to prepare you for the day’s material. Completing them before class is mandatory. I will drop your two lowest quiz grades.</p></li>
<li><p>Homework <strong>40%</strong>: At the end of a group of content, a homework will be assigned that will ask you to analyze a dataset and answer questions related to that concept group. These homeworks are always due the Sunday after assigned at 11:59 pm China time. Each homework/midterm will also have a best graph contest, where the person whose classmates vote as having the best graph wins some extra credit points.</p></li>
<li><p>Homework checks <strong>5%</strong>: To make sure you are making good progress on your homework, the Sunday before the homework is due (except for the first homework) you will be required to submit your progress on the homework so far. You are required to have tried to have answered all the questions covered by the lectures and textbook up to that Sunday. I will not check your answers but rather check to see if you have made a good effort to answer all the questions derived from the material already covered. If you have a reasonable answer for each question checked you will get full points. If you have not made an effort to answer all the questions reviewed you will get a zero.</p></li>
<li><p>Unit 4 homework - paper analysis <strong>5%</strong>: At the end of Unit 4, you will select a news article and then do some research on the underlying statistics presented in the news article, critiquing if the news article accurately represented the study reference in the article.</p></li>
<li><p>Final project <strong>25%</strong>: Similar to the Unit 2 homework, the final exam will ask you to analyze a dataset using all the strategies we have learned in class. The paper for this project should be about 2000 words.</p></li>
<li><p>Data Camp labs <strong>5%</strong>: A number of labs on the website Data Camp will be assigned to you; these labs are pass/fail and you will receive full credit if you complete each of the labs by the specified due date.</p></li>
<li><p>Participation <strong>10%</strong>: As discussed in <a href="#attendance-policy">the attendance policy section</a>, class attendance is important. So is participating in the discussions on Teams. If you attend all the course meetings but do not actively participate on Teams, you can expect a B/B+ participation grade. Receiving an A grade for participation requires that you come to every class and actively participate in Teams (help other students, ask questions, comment on other’s posts and so on).</p></li>
</ul>
</section>
<section id="lateness-policy" class="level2">
<h2 class="anchored" data-anchor-id="lateness-policy">Lateness policy</h2>
<p>Since the course moves very quickly, if you are submitting work late that means you are falling behind on other material and it may be difficult for you to recover. Therefore, I have a fairly strict lateness policy.</p>
<ul>
<li>All major assignments are due at <strong>11:59:00 pm</strong>. Not 11:59:01 or 11:59:31.</li>
<li>If it is later than 11:59:00 pm, then the assignment will be assessed a 5% lateness penalty</li>
<li>If it is later than 12:29:00 am, then the assignment will be assessed a 10% lateness penalty</li>
<li>If it is later than 11:59:00 pm the next day, the assignment will be assessed a 50% lateness penalty</li>
<li>If it is later than 2 days from the due date, I will no longer accept the assignment</li>
</ul>
<blockquote class="blockquote">
<p>Please be sure to check that your homework is complete and make sure to submit it a few minutes early. You can submit multiple times on Sakai so make sure you have a nearly complete version uploaded even if you want to keep working on it right up to the deadline. I will not be sympathetic to messages that complain of computer problems when you are trying to submit for the first time at 11:58:51 pm.</p>
</blockquote>
</section>
<section id="attendance-policy" class="level2">
<h2 class="anchored" data-anchor-id="attendance-policy">Attendance Policy</h2>
<p>I enjoy randomly calling on students during class, so I recommend you come to class and be prepared as you could be the lucky winner that is called on in any given class section! The lecture will have a number of points on which I will ask students to modify some code and return a result and doing these exercises is mandatory. If you are called on but not attending the lecture without previously notifying me, it will count as an absence and seriously affect your participation grade.</p>
</section>
<section id="contact-policy" class="level2">
<h2 class="anchored" data-anchor-id="contact-policy">Contact Policy</h2>
<ol type="1">
<li>I do not respond to email about class unless it is for emergency circumstances. Use Teams to DM me instead.</li>
<li>I usually try to reply to Teams DMs on the same day (though not in the evenings), however responses may be slower on the weekend</li>
<li>Do not DM me 2 hours before a homework is due and expect an immediate response!</li>
<li>For general questions, such as how should one interpret a question on a homework or quiz, you should ask the question in the appropriate Teams channel. That way others can benefit from the response or someone else may be able to answer more quickly than I can. If you DM me a question that really belongs in the help channel I will ask you to repost it.</li>
<li>Many questions can be answered by carefully checking the class website or reviewing the materials in the Teams chat. If in doubt, though, feel free to ask.</li>
</ol>
</section>
<section id="academic-dishonesty-policy" class="level2">
<h2 class="anchored" data-anchor-id="academic-dishonesty-policy">Academic Dishonesty Policy</h2>
<p>Don’t cheat. Don’t be that person. Yes, you. You know exactly what I’m talking about too.</p>
<p>More specifically, you are expected to strictly adhere to the Duke Kunshan University Community Standard in all of your work and participation, and violations will be enforced. More details can be found <a href="https://ugstudies.dukekunshan.edu.cn/academic-integrity/">here</a>.</p>
<p>All work must be done exclusively by the individual to whom it has been assigned. You should assume that collaboration on assignments, the use of previously-assigned homework, quizzes and answer keys, outside sources or outside aids (both written and electronic) are not allowed unless explicitly noted in the assignment guidelines. All cases of suspected cheating will be referred for adjudication to the Dean’s Office. Any violation for which a student is found responsible is considered grounds for failure in the course.</p>
<p>It may sound cliché to say, but if you cheat and borrow other’s code or answers you are only cheating yourself; you will not learn how to do statistics and doing so will mean you will do worse on the midterm and the final anyway. Cheating is ultimately self-defeating so for both of our benefit, please, don’t do it. If you are having trouble completing the assignment and feel tempted to cheat, please contact me directly instead with the difficulties you are having.</p>
</section>
<section id="disabilities-policy" class="level2">
<h2 class="anchored" data-anchor-id="disabilities-policy">Disabilities Policy</h2>
<p>If you need an accommodation due to a disability, you should not hesitate to request one. The process is that requests should be sent to the Dean of Undergraduate Studies, who will contact me with recommended type of accommodation that is needed. You do not need to disclose your reason for requesting an accommodation with me, and asking through the Dean of Undergraduate Studies helps make things official for both you and me.</p>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>